<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Post app <form action=""></form></title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="./style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">


</head>
<body>
    <div class=" flex flex-col [100vh]  px-[100px] py-[40px] gap-[30px]">
    <div class="flex  gap-[40px]">
        <div class="flex justify-center items-center ">
            <img src="./images/Ellipse 1.svg" alt="">
            <p class="font-[700] text-[24.73] leading-[32.72px]  h-[33px] w-[97px]">Coranu</p>
        </div>
        <div>
            <div
                class="flex gap-[15px] w-[430px] h-[45px] rounded-[62.85px] px-[30px] py-[10px] bg-white border border-[#DADADA]">
                <img src="./images/ri_search-line.svg" alt="icon">
                <input type="text" placeholder="search..... " class="border-white outline-none">
            </div>
        </div>
        <div class="    flex justify-center items-center gap-[5px]">
            <ul class="flex gap-[20px] font-[500] text-[15px] leading-[18px] hidden lg:flex">
                <li class="text-[#969696]">Home</li>
                <li class="text-[#969696]">Market</li>
                <li>Blog</li>
                <li class="text-[#969696] ">Career</li>
            </ul>
            <button
                class="font-[600] text-[10px] leading-[12px] text-white bg-[#3D74FF] p-[2px] rounded-[10px]">hirring</button>

        </div>
        <!-- <div class="content-center"> <button class="text-white bg-[#1C5CFF]">Get Started</button></div> -->
        <button type="button" id="signOut">sign out</button>    
    
    </div>
</div>
    <!-- <h2 id="msg"></h2>
    <h2 id="great"></h2>
    <button type="button" id="signOut">sign out</button>
    <h1>home</h1>
  
    <img id="retrievedImage" class="rounded-[100px]" src="./images//user-circle.svg" alt="No image found" style="width: 100px; height: 100px;" />
    <div class="h-[300px] w-[300px] bg-red-200 flex-col gap-[10px] justify-center items-center" style="display: none;" id="box">
        <img id="afterClick" class="h-[100px] w-[100px] rounded-[50%]"></img>
        <p id="name"></p>
        <p id="email"></p>
    </div> -->
    <div class="main">
    <form class="m-4 w-[40rem]  " id="Mainform">
        <h1 class="h1 text-center">Post App Form</h1>
          <div class="form-group">
            <label for="exampleInputEmail1">Title</label>
            <input type="text" class="form-control" required id="exampleInputTitle" aria-describedby="emailHelp">
            <!-- <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small> -->
          </div>
          <div class="form-group">
            <label for="exampleInputPassword1">Title Info</label>
            <input type="text" class="form-control" id="exampleInputTitleInfo" required>
          </div>
         
          <div class="form-group">
            <label for="exampleInputEmail1">Category</label>
            <input type="text" class="form-control" id="exampleCategory" aria-describedby="emailHelp" required>
          </div>
          <div class="form-group">
            <label for="exampleInputPassword1">Extra Info</label>
            <input type="text" class="form-control" id="exampleExtraInfo" required>
          </div>
  
          <button type="submit" id="btn" class="py-3 rounded-[30px] shadow-gray-300 w-[100%] my-4 bg-[#1C5CFF] text-white hover:text-white hover:bg-[#0c4cef]">Post</button>
           <div class="flex gap-2 items-center justify-center">
          
        
  
        </div>
        </form>
    </div>

 <script src="./app.js"></script>
    <script type="module">

     let UserCreds = JSON.parse(sessionStorage.getItem("user-creds"))
     let UserInfo = JSON.parse(sessionStorage.getItem("user-info"))

     let msgHead = document.getElementById("msg")
     let greatHead = document.getElementById("great")
     let signOutbtn = document.getElementById("signOut")
     let name = document.getElementById("name")
     let email = document.getElementById("email")


        
   

     const signOut = () =>{
        sessionStorage.removeItem("user-creds");
        sessionStorage.removeItem("user-info");
        sessionStorage.removeItem("uploadedImage")
        window.location.href = "signup.html"
     }

     const check =()=>{
        if(!sessionStorage.getItem("user-creds"))
        window.location.href = "signup.html"
    else{
         msgHead.innerText = `user with email ${UserCreds.email} logged in`
         greatHead.innerText = `welcome ${UserInfo.firstName}  ${UserInfo.lastName}`
         name.innerText = ` ${UserInfo.firstName}  ${UserInfo.lastName}`
         email.innerText = ` ${UserCreds.email} `
    }
     }
     window.addEventListener("load",check)
     signOutbtn.addEventListener("click", signOut)
     
     const savedImage = sessionStorage.getItem('uploadedImage');
        const retrievedImage = document.getElementById('retrievedImage');

        if (savedImage) {
            retrievedImage.src = savedImage; // Set the image source
            retrievedImage.style.display = 'block'; // Make the image visible
        } else {
            console.log('No image found in sessionStorage!');
        }




        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-app.js";
  import { firestore } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-firestore.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  const firebaseConfig = {
    apiKey: "AIzaSyBoqtL4XjSeRMJfbVMJneKWfCRXZAOzyXU",
    authDomain: "database-52b50.firebaseapp.com",
    databaseURL: "https://database-52b50-default-rtdb.firebaseio.com",
    projectId: "database-52b50",
    storageBucket: "database-52b50.firebasestorage.app",
    messagingSenderId: "713445993924",
    appId: "1:713445993924:web:e43db4024cd71e16724891",
    measurementId: "G-LKCVB7JB1Z"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const db = firebase.firestore();


  
const submitFormToDb = (evt) => {

    evt.preventDefault()
    const title = document.getElementById('exampleInputTitle').value
    const titleInfo = document.getElementById('exampleInputTitleInfo').value
    const Category = document.getElementById('exampleCategory').value
    const ExtraInfo = document.getElementById('exampleExtraInfo').value
    const btn = document.getElementById('btn').value

    db.collection("contact")
    .add({
      title,
      titleInfo,
      Category,
      ExtraInfo,
      message,
      date: new Date()
    })
    .then((docRef) => {
      console.log("Form Submitted: ", docRef.id);
      alert("successfull")
    })
    .catch((error) => {
      console.error("Error adding document: ", error);
    });
}


btn.addEventListener("submit", submitFormToDb)



    </script>
</body>
</html>